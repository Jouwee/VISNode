{"output":{"input":[],"hashCode":739548813,"position":{"x":776,"y":73},"connections":[{"leftNode":465198858,"rightAttribute":"value","leftAttribute":"value"}]},"nodes":[{"input":[{"parameterType":"visnode.pdi.process.ImageInput","parameterName":"file","value":{"type":"visnode.commons.MultiFileInput","data":{"file":["/home/jonatabecker/Desktop/Lenna.png"],"index":0}}}],"hashCode":328179723,"position":{"x":44,"y":46},"processType":"visnode.pdi.process.InputProcess","connections":[]},{"input":[{"parameterType":"visnode.commons.ScriptValue","parameterName":"script","value":{"value":"function process(image) {\n    var grayscaleImage \u003d grayscale(image)\n    var resultImage \u003d ImageFactory.buildEmptyImage(grayscaleImage)\n    var threshold \u003d 100\n    for (var c \u003d 0; c \u003c grayscaleImage.getChannelCount(); c++) {\n        for (var x \u003d 0; x \u003c grayscaleImage.getWidth(); x++) {\n            for (var y \u003d 0; y \u003c grayscaleImage.getHeight(); y++) {\t\t\t \n                var newPixel \u003d grayscaleImage.get(c, x, y) \u003e\u003d threshold ? 255 : 0\n                resultImage.set(c, x, y, newPixel)\n            }\n        }\n    }\n    return resultImage\n}\n\nfunction grayscale(image) {\n    var resultImage \u003d ImageFactory.buildEmptyImage(\n            1,\n            image.getWidth(),\n            image.getHeight(),\n            image.getPixelValueRange()\n    )\n    for (var x \u003d 0; x \u003c image.getWidth(); x++) {\n        for (var y \u003d 0; y \u003c image.getHeight(); y++) {\n            var sum \u003d 0\n            for (var c \u003d 0; c \u003c image.getChannelCount(); c++) {\n                sum +\u003d image.get(c, x, y)\n            }\n            var newPixel \u003d Math.floor(sum / image.getChannelCount())\n            resultImage.set(0, x, y, newPixel)\n        }\n    }\n    return resultImage\n}"}}],"hashCode":465198858,"position":{"x":385,"y":140},"processType":"visnode.pdi.process.ScriptProcess","connections":[{"leftNode":328179723,"rightAttribute":"input","leftAttribute":"image"}]}]}