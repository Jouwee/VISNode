{"output":{"input":[],"hashCode":8855622,"position":{"x":729,"y":143},"connections":[{"leftNode":708554066,"rightAttribute":"value","leftAttribute":"value"}]},"nodes":[{"input":[{"parameterType":"visnode.pdi.process.ImageInput","parameterName":"file","value":{"type":"visnode.commons.MultiFileInput","data":{"file":["/home/jonatabecker/Desktop/Lenna.png"],"index":0}}}],"hashCode":8239952,"position":{"x":50,"y":50},"processType":"visnode.pdi.process.InputProcess","connections":[]},{"input":[{"parameterType":"visnode.commons.ScriptValue","parameterName":"script","value":{"value":"function process(input) {\n\tvar image \u003d input\n\tvar resultImage \u003d ImageFactory.buildEmptyImage(image)\n\tvar x \u003d 100\n\tvar y \u003d 50\n\ttransform(\n\t\timage,\n\t\tresultImage, \n\t\t[\n\t\t\t[1, 0, -x],\n\t\t\t[0, 1, -y],\n\t\t\t[0, 0, 1]\n\t\t]\n\t)\n\treturn resultImage\n}\n\nfunction transform(image, resultImage, kernel) {\n\tfor (var c \u003d 0; c \u003c image.getChannelCount(); c++) {\n        for (var x \u003d 0; x \u003c image.getWidth(); x++) {\n            for (var y \u003d 0; y \u003c image.getHeight(); y++) {\n                applyKernel(\n                \timage, \n                \tresultImage, \n                \tkernel, \n                \tc, \n                \tx, \n                \ty, \n                \timage.get(c, x, y)\n           \t)\n            }\n        }\n    }\n}\n\nfunction applyKernel(image, resultImage, kernel, channel, x, y, value) {\n \tvar halfX \u003d image.getWidth() / 2\n\tvar halfY \u003d image.getHeight() / 2\n\tvar tmpX \u003d x - halfX\n\tvar tmpY \u003d y - halfY\n\tvar newX \u003d Math.round(tmpX * kernel[0][0] + tmpY * kernel[0][1] + 1 * kernel[0][2])\n\tvar newY \u003d Math.round(tmpX * kernel[1][0] + tmpY * kernel[1][1] + 1 * kernel[1][2])\n\tnewX +\u003d halfX\n\tnewY +\u003d halfY\n\t// Pixel position is right\n\tif (newX \u003c image.getWidth() \u0026\u0026 newY \u003c image.getHeight() \u0026\u0026 newX \u003e\u003d 0 \u0026\u0026 newY \u003e\u003d 0) {\n  \t\tresultImage.set(channel, x, y, image.get(channel, newX, newY))\n\t}\n}"}}],"hashCode":708554066,"position":{"x":367,"y":173},"processType":"visnode.pdi.process.ScriptProcess","connections":[{"leftNode":8239952,"rightAttribute":"input","leftAttribute":"image"}]}]}